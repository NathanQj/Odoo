<odoo>
  <data>
    <!-- explicit list view definition -->

    <record id="sf_account_mass_payment_tree" model="ir.ui.view">
        <field name="name">sf.account.mass_payment.tree</field>
        <field name="model">sf.account.mass.payment</field>
        <field name="arch" type="xml">
            <tree string="Mass Payments">
                <field name="name"/>
                <field name="payment_date"/>
                <field name="partner_id"/>
                <field name="journal_id"/>
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="sf_account_mass_payment_form">
      <field name="name">sf.account.mass_payment.form</field>
      <field name="model">sf.account.mass.payment</field>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <form string="Mass Payment">
          <header>
              <button name="create_mass_payment" class="oe_highlight" states="draft" string="Create a Payments" type="object"/>
              <button name="action_confirm_payments" class="oe_highlight" states="post" string="Confirm" type="object"/>
              <field name="state" widget="statusbar" statusbar_visible="draft,post,done" />
          </header>
          <sheet>
              <div class="oe_title">
                  <label for="name" class="oe_edit_only" />
                  <h1>
                      <field name="name" class="oe_inline" readonly="1"/>
                  </h1>
              </div>
            <field name="company_id" readonly="1"/>

            <group>
              <group>
                  <field name="payment_type" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                  <field name="partner_id"/>
                  <field name="journal_id" widget="selection"/>

              </group>
              <group>
                  <field name="payment_method_id" attrs="{'readonly': [('state', '!=', 'draft')]}" widget="radio" />
                  <field name="payment_date" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                  <field name="payment_id" attrs="{'invisible': [('state', '=', 'draft')]}"/>
              </group>
            </group>
            <notebook>
              <page string="Bills">
                <group>
                  <field name="invoice_ids"
                         attrs="{'readonly': [('state', '!=', 'draft')]}"
                         domain="[('partner_id', '=', partner_id), ('state', '=', 'open')]"
                         options="{'no_create': True, 'no_open': False}" widget="many2many"  nolabel="1" />
                  </group>
              </page>
            </notebook>
          </sheet>

        </form>
      </field>
    </record>


    <!-- actions opening views on models -->
    <record model="ir.actions.act_window" id="action_sf_account_mass_payments">
      <field name="name">Mass Payments</field>
      <field name="res_model">sf.account.mass.payment</field>
      <field name="view_mode">tree,form</field>
    </record>

  </data>
</odoo>